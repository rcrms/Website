<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Maps Home</title>
    <script>
        //get firebase dependencies ready
        function handleLoad(e) 
        {
          console.log('Loaded import: ' + e.target.href);
        }
        function handleError(e) 
        {
          console.log('Error loading import: ' + e.target.href);
        }
      </script>

      <!-- onload and onerror are only for testing, not necessary for production -->
    <link rel="import" href="FBdependencies/firebaseSources.html" onload="handleLoad(event)" onerror="handleError(event)">


    <!-- provide getSources.js a location to add firebase dependencies -->
    <div id="scriptTarget"></div>
    <script src="FBdependencies/getSources.js"></script>

    <link rel="stylesheet" href="landingPage.css">
    <link rel="stylesheet" href="mapsHome.css">
    
    <script src="authUser.js"></script>
</head>
<body> 
    <div id="content">
        <div id="header">
            <script src="header.js"></script>
        </div>
        <div id="top">

            <div class="card" id="charts">
                <a href="chartsHome.html">
                    <p>Charts</p>
                    <img id="chartIcon" src="images/chartsIcon.png" alt="chart">
                </a>
            </div>
            
            <div class="card" id="maps">
                <a href="mapsHome.html">
                    <p>Maps</p>
                    <img id="mapIcon" src="images/mapsIcon.png" alt="map">
                </a>
            </div>

            <div class="card" id="reports">
                <a href="reportsHome.html">
                    <p>Reports</p>
                    <img id="reportIcon" src="images/reportsIcon.png" alt="report">
                </a>
            </div>

        </div>

        <br> <hr> <br>
        
        <div id="bottom">
            <div id="map" class="hidden"></div>
            <div id="map2"></div>
            
            <!-- <div id="floating-panel">
            buttons on the top of the map
            <button onclick="toggleHeatmap()">Toggle Heatmap</button>
            <button onclick="changeGradient()">Change gradient</button>
            <button onclick="changeRadius()">Change radius</button>
            <button onclick="changeOpacity()">Change opacity</button>
            </div>
        -->
        <!-- form div is currently just a placeholder for firebase data -->
            <div style="display: flex; flex-direction: column;">
                <input type="button" class="hidden" value="Switch" onclick="toggleMaps()">
                <input type="button" class="hidden" value="Info" onclick="getMapInfo()">
            </div>
            
            <div id="form">

                <form id="customizePanel" onsubmit="return false">
                    <fieldset>
                        <legend>Customize</legend>

                        <input type="button" value="Center" onclick="centerMap()"><br><br>

                        <label>Complaint Types:</label><br>
                            <input class="subItem" type="checkbox" name="complaints" id="pothole" value="pothole">
                            <label for="pothole">pothole</label><br>
        
                            <input class="subItem" type="checkbox" name="complaints" id="obstruction" value="obstruction">
                            <label for="obstruction">obstruction</label><br>
                            
                            <input class="subItem" type="checkbox" name="complaints" id="snow" value="snow">
                            <label for="snow">snow</label><br><br>
                        
                        <label>Map Type:</label><br>
                            <div id="mapToggle" class="subGroup">
                                <label for="toggle" class="subItem">heatmap</label>
                                <div class="toggle" id="mapTypeToggle" onclick="slideToggle()">
                                    <div class="slider" id="mapTypeSlider"></div>
                                </div><br>
                            </div><br>
        
                        <label>Date Range</label><br>
                            <div class="subGroup">
                                <label for="fromDate" class="subItem">From: </label>
                                <input type="date" name="fromDate" id="fromDate"><br>
                            </div>
                            <div class="subGroup">
                                <label for="toDate" class="subItem">To: </label>
                                <input type="date" name="toDate" id="toDate"><br>
                            </div><br>
                            
                            <input id="formSubmit" type="submit" value="Submit" onclick="updateMap()">
                    </fieldset>
                </form>
            </div><!-- end of form div -->
        </div><!-- end of bottom div -->
    </div><!-- end of content div -->

    <script src="markerClusterer.js"></script>
    <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCQTQUHVnUhGfSHjRfYLYvWU18fvbITFMs&libraries=visualization&callback=initMap">
        //key="" is my testing API key  ends at red &
        //AIzaSyCQTQUHVnUhGfSHjRfYLYvWU18fvbITFMs

    </script>

    <script src="mapsHome.js"></script>
</body>
</html>